/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/main.js":
/*!********************!*\
  !*** ./js/main.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports) {

// Кнопка скрытия/показа контента в разделе "О компании"
var buttonAbout = document.querySelector('.about button');
var contentBlocks = document.querySelectorAll('.about p');
var contentElement = document.querySelector('.about span');
var mediaQueryMobile = window.matchMedia('(max-width: 767.9px)');
contentBlocks[2].style.display = 'none';
contentBlocks[3].style.display = 'none';
var mediaQueryTablet = window.matchMedia('(min-width: 768px)');

function handleTabletChange(evt) {
  if (evt.matches) {
    contentElement.style.display = 'block';
  } else {
    contentElement.style.display = 'none';
  }
}

mediaQueryTablet.addListener(handleTabletChange);
handleTabletChange(mediaQueryTablet);

var _loop = function _loop(i) {
  var hideContent = function hideContent() {
    contentBlocks[2].style.display = 'none';
    contentBlocks[3].style.display = 'none';
    buttonAbout.textContent = 'Подробнее';
  };

  var showContent = function showContent() {
    contentBlocks[2].style.display = 'block';
    contentBlocks[3].style.display = 'block';
    buttonAbout.textContent = 'Cвернуть';
  };

  buttonAbout.addEventListener('click', function () {
    if (mediaQueryMobile.matches) {
      if (contentBlocks[i].classList.contains('hidden-mobile')) {
        contentBlocks[i].classList.remove('hidden-mobile');
        showContent();
        contentElement.style.display = 'block';
      } else {
        hideContent();
        contentBlocks[i].classList.add('hidden-mobile');
        contentElement.style.display = 'none';
      }
    }

    if (mediaQueryTablet.matches) {
      if (contentBlocks[i].classList.contains('hidden-tablet')) {
        showContent();
        contentBlocks[i].classList.remove('hidden-tablet');
      } else {
        hideContent();
        contentBlocks[i].classList.add('hidden-tablet');
      }
    }
  });
};

for (var i = 0; i < contentBlocks.length; i++) {
  _loop(i);
} // Аккордеон в футере


var buttons = document.querySelectorAll('.page-footer__button');
var wrappers = document.querySelectorAll('.page-footer__wrapper-block');

for (var _i = 0; _i < wrappers.length; _i++) {
  wrappers[_i].classList.remove('nojs');
}

var _loop2 = function _loop2(_i2) {
  buttons[_i2].addEventListener('click', function (evt) {
    buttons.forEach(function (button) {
      if (button !== evt.target) {
        button.classList.remove('page-footer__button--open');
        button.classList.add('page-footer__button--close');
        wrappers.forEach(function (element) {
          element.classList.remove('opened');
          element.classList.add('closed');
        });
      }
    });

    if (buttons[_i2].classList.contains('page-footer__button--close')) {
      buttons[_i2].classList.remove('page-footer__button--close');

      buttons[_i2].classList.add('page-footer__button--open');

      wrappers[_i2].classList.remove('closed');

      wrappers[_i2].classList.add('opened');
    } else {
      buttons[_i2].classList.remove('page-footer__button--open');

      buttons[_i2].classList.add('page-footer__button--close');

      wrappers[_i2].classList.remove('opened');

      wrappers[_i2].classList.add('closed');
    }
  });
};

for (var _i2 = 0; _i2 < buttons.length; _i2++) {
  _loop2(_i2);
} // Маска телефона


window.addEventListener('DOMContentLoaded', function () {
  [].forEach.call(document.querySelectorAll('#phone'), function (input) {
    var keyCode;

    function Mask(event) {
      var pos = this.selectionStart;

      if (pos < 3) {
        event.preventDefault();
      }

      var matrix = '+7(___)_______';
      var i = 0;
      var def = matrix.replace(/\D/g, '');
      var val = this.value.replace(/\D/g, '');
      var newValue = matrix.replace(/[_\d]/g, function (a) {
        return i < val.length ? val.charAt(i++) || def.charAt(i) : a;
      });
      i = newValue.indexOf('_');

      if (i !== -1) {
        newValue = newValue.slice(0, i);
      }

      var reg = matrix.substr(0, this.value.length).replace(/_+/g, function (a) {
        return '\\d{1,' + a.length + '}';
      }).replace(/[+()]/g, '\\$&');
      reg = new RegExp('^' + reg + '$');

      if (!reg.test(this.value) || this.value.length < 5 || keyCode > 47 && keyCode < 58) {
        this.value = newValue;
      }

      if (event.type === 'blur' && this.value.length < 5) {
        this.value = '';
      }
    }

    input.addEventListener('input', Mask, false);
    input.addEventListener('focus', Mask, false);
    input.addEventListener('blur', Mask, false);
    input.addEventListener('keydown', Mask, false);
  });
}); // Local Storage

var formData = document.querySelectorAll('input');

for (var _i3 = 0; _i3 <= formData.length - 1; _i3++) {
  localStorage.setItem('formData', formData.value);
} // Модальное окно


var orderButton = document.querySelector('.page-header button');
var modal = document.querySelector('.modal');
var closeButton = document.querySelector('.modal__container > button');
var overlay = document.querySelector('.overlay');
var form = document.querySelector('.modal form');
var modalName = document.querySelector('#modal-name');

var openModal = function openModal() {
  modal.classList.remove('modal--closed');
  modal.classList.add('modal--opened');
  orderButton.disabled = true;
  overlay.classList.remove('overlay--closed');
  overlay.classList.add('overlay--opened');
  modalName.focus();
};

var closeModal = function closeModal() {
  modal.classList.remove('modal--opened');
  modal.classList.add('modal--closed');
  overlay.classList.remove('overlay--opened');
  overlay.classList.add('overlay--closed');
  orderButton.disabled = false;
  form.reset();
};

var isEscapeKey = function isEscapeKey(evt) {
  return evt.key === 'Escape';
};

var onCloseModal = function onCloseModal(evt) {
  if (isEscapeKey(evt)) {
    closeModal();
  }
};

if (modal) {
  orderButton.addEventListener('click', function (evt) {
    evt.preventDefault();

    if (modal.classList.contains('modal--closed')) {
      openModal();
      document.addEventListener('keydown', onCloseModal);
    }
  });
}

closeButton.addEventListener('click', function (evt) {
  evt.preventDefault();
  closeModal();
  document.removeEventListener('keydown', onCloseModal);
});
overlay.addEventListener('click', function (evt) {
  if (!evt.target.closest('.modal')) {
    // если этот элемент или его родительские элементы не модальное окно
    closeModal();
  }
});

/***/ })

/******/ });
//# sourceMappingURL=main.min.js.map